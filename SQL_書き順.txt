まずfrom句から書きます。
次にwhere句を書きます。
次にgroupby句を書きます。
ここまではSQLの実行順序にしたがって書いてきましたが、このタイミングで気をつけないといけないのはgroupby句でグループ化しているのでselect句は*だとエラーが吐かれます。
ここでselect句を書きます。
次にhaving句でグループ化した結果からさらに抽出する条件を書きます。
最後に必要ならorderby句でソートします。